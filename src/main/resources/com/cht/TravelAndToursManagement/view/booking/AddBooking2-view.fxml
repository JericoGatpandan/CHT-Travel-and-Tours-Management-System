<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.scene.control.Button?>
<?import javafx.scene.control.Label?>
<?import javafx.scene.image.ImageView?>
<?import javafx.scene.layout.AnchorPane?>
<?import javafx.scene.layout.HBox?>
<?import javafx.scene.layout.StackPane?>
<?import javafx.scene.layout.VBox?>
<?import javafx.scene.shape.Circle?>
<?import javafx.scene.shape.Rectangle?>

<?import javafx.geometry.Insets?>
<?import javafx.scene.layout.GridPane?>
<?import javafx.scene.control.ScrollPane?>
<?import javafx.scene.layout.ColumnConstraints?>
<AnchorPane prefHeight="903.0" prefWidth="1100"
            style="-fx-background-color: rgba(0,0,0,0.5);"
            xmlns="http://javafx.com/javafx/25"
            xmlns:fx="http://javafx.com/fxml/1"
            fx:controller="com.cht.TravelAndToursManagement.controller.booking.BookingStep2Controller"
>

    <!-- Modal Container -->
    <StackPane AnchorPane.topAnchor="50" AnchorPane.bottomAnchor="50"
               AnchorPane.leftAnchor="50" AnchorPane.rightAnchor="50">

        <VBox
                style="-fx-background-color: white;
                     -fx-background-radius: 12;
                     -fx-effect: dropshadow(gaussian, rgba(0,0,0,0.15), 24, 0, 0, 12);">

            <!-- Header -->
            <HBox spacing="16" style="-fx-padding: 32 32 0 32;">
                <VBox spacing="8" HBox.hgrow="ALWAYS">
                    <Label text="New Booking"
                           style="-fx-font-size: 28; -fx-font-weight: bold; -fx-text-fill: #2C3E50;"/>
                    <Label text="Create a new travel booking for your customer"
                           style="-fx-font-size: 14; -fx-text-fill: #7F8C8D;"/>
                </VBox>
                <Button text="âœ•"
                        onAction="#handleClose"
                        style="-fx-background-color: transparent;
                               -fx-font-size: 18;
                               -fx-cursor: hand;"/>
            </HBox>

            <!-- Progress -->
            <fx:include source="../reusableComponents/Progress-indicator.fxml"/>

            <!-- Content -->
            <VBox spacing="24" VBox.vgrow="ALWAYS"
                  style="-fx-padding: 24 32 32 32;">

                <!-- Title -->
                <VBox spacing="8">
                    <Label text="Select Tour Package"
                           style="-fx-font-size: 24; -fx-font-weight: bold;"/>
                    <Label text="Choose the perfect travel package for your customer"
                           style="-fx-text-fill: #7F8C8D;"/>
                </VBox>

                <!-- Package Cards -->
                <ScrollPane fitToWidth="true"
                            VBox.vgrow="ALWAYS"
                            style="-fx-background-color: transparent;">

                    <content>
                        <GridPane fx:id="packageGrid"
                                  hgap="24"
                                  vgap="24"
                                  style="-fx-background-color: transparent;">
                            <!-- FIXED padding -->
                            <padding>
                                <Insets top="8" right="8" bottom="8" left="8"/>
                            </padding>

                            <!-- Column setup (3 responsive columns) -->
                            <columnConstraints>
                                <ColumnConstraints hgrow="ALWAYS"/>
                                <ColumnConstraints hgrow="ALWAYS"/>
                                <ColumnConstraints hgrow="ALWAYS"/>
                            </columnConstraints>

                            <!-- SAMPLE CARD -->
                            <VBox GridPane.rowIndex="0" GridPane.columnIndex="0"
                                  spacing="12"
                                  style="-fx-border-color: #E0E0E0;
                         -fx-border-radius: 12;
                         -fx-background-radius: 12;
                         -fx-cursor: hand;"
                                  GridPane.hgrow="ALWAYS">

                                <!-- Image -->
                                <StackPane>
                                    <Rectangle height="180"
                                               arcHeight="12"
                                               arcWidth="12"
                                               fill="#DADADA"/>

                                    <Label text="5 Days / 4 Nights"
                                           StackPane.alignment="BOTTOM_LEFT"
                                           style="-fx-background-color: white;
                                  -fx-padding: 6 10;
                                  -fx-background-radius: 20;">
                                        <StackPane.margin>
                                            <Insets top="12" right="12" bottom="12" left="12"/>
                                        </StackPane.margin>
                                    </Label>
                                </StackPane>

                                <!-- Content -->
                                <VBox spacing="6" style="-fx-padding: 16;">
                                    <Label text="Mountain Adventure Trek"
                                           style="-fx-font-size: 16; -fx-font-weight: bold;"/>
                                    <Label text="Swiss Alps, Interlaken, Zermatt"
                                           style="-fx-text-fill: #7F8C8D;"/>

                                    <Label text="Starting from" style="-fx-font-size: 12;"/>
                                    <Label text="\$1,899 / person"
                                           style="-fx-font-size: 20;
                                  -fx-font-weight: bold;
                                  -fx-text-fill: #2ECC71;"/>
                                </VBox>

                                <!-- Actions -->
                                <HBox spacing="12" style="-fx-padding: 0 16 16 16;">
                                    <Button text="View Details"
                                            HBox.hgrow="ALWAYS"
                                            style="-fx-background-color: white;
                                   -fx-border-color: #2ECC71;
                                   -fx-text-fill: #2ECC71;"/>
                                    <Button text="Select"
                                            HBox.hgrow="ALWAYS"
                                            style="-fx-background-color: #2ECC71;
                                   -fx-text-fill: white;"/>
                                </HBox>
                            </VBox>

                        </GridPane>
                    </content>
                </ScrollPane>

            </VBox>

            <!-- Footer Section - Buttons -->
            <HBox alignment="CENTER_RIGHT" prefWidth="1000.0" spacing="12" style="-fx-padding: 0 32 32 32;">
                <Button fx:id="cancelButton" maxWidth="Infinity"  style="-fx-padding: 10 16; -fx-font-family:  'Inter'; -fx-font-size: 14; -fx-font-weight: 500; -fx-text-fill: #0066CC; -fx-background-color: white; -fx-border-color: #0066CC; -fx-border-width:  2; -fx-border-radius: 6; -fx-cursor: hand;" text="Cancel" HBox.hgrow="ALWAYS" />
                <Button fx:id="nextButton" disable="true" maxWidth="Infinity" onAction="#handleNextStep" style="-fx-padding:  10 16; -fx-font-family: 'Inter'; -fx-font-size: 14; -fx-font-weight: 500; -fx-text-fill: white; -fx-background-color: #0066CC; -fx-border-radius: 6; -fx-cursor: hand;" text="Next Step" HBox.hgrow="ALWAYS" />
            </HBox>

        </VBox>
    </StackPane>
</AnchorPane>